<!DOCTYPE html>
<html>
<head>
	<title>Hover Effect</title>
	<style type="text/css">
		.grid {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			grid-gap: 10px;
		}
		.box {
			height: 100px;
			background-color: #ccc;
			transition: background-color 0.5s ease-in-out;
		}
	</style>
</head>
<body>
	<div class="grid">
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
		<div class="box"></div>
	</div>

<script type="text/javascript">
	const boxes = document.querySelectorAll('.box');
	boxes.forEach(box=>box.opacity=0)
    
	function changeColor() {
	  this.style.backgroundColor = 'red';
	  this.style.opacity = '0.5';
	  this.style.transition = 'background-color 0.5s ease-in-out';
      console.log(this)
	  setTimeout(() => {
	    this.style.backgroundColor = 'black';
        if (this.opacity<1) {
           this.opacity += 0.1
        }
	    this.style.opacity = `${this.opacity}`;
        console.log(this.opacity)
	  }, 500);
	}
	
	boxes.forEach(box => box.addEventListener('mouseover', changeColor));
</script>

</body>
</html>